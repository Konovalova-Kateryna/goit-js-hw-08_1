{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,SAC9BC,EAAUH,EAAKI,SAAgB,MAC/BC,EAASL,EAAKI,SAAe,KAC7BE,EAAWN,EAAKI,SAAiB,OAyBvC,SAASG,GAAcC,SAACA,EAAQC,MAAEA,IAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAG3BC,YAAW,KACaC,KAAKC,SAAW,IAEpCJ,EAAQ,C,SAACH,E,MAAUC,IAErBG,EAAO,C,SAACJ,E,MAAUC,MACjBA,MAMP,SAASO,GAAUR,SAACA,EAAQC,MAAEA,IAC5BQ,QAAQC,IAAI,uBAAqBV,QAAiBC,OAEpD,SAASU,GAAQX,SAACA,EAAQC,MAAEA,IAC1BQ,QAAQC,IAAI,sBAAoBV,QAAeC,OA5ChCR,SAASC,cAAc,UAE/BkB,iBAAiB,SAK1B,SAAoBC,GAClBA,EAAIC,iBAEJ,IAAIb,EAAQc,OAAOpB,EAAQqB,OAC3B,MAAMC,EAAYF,OAAOlB,EAAOmB,OAC1BE,EAAQH,OAAOjB,EAASkB,OAE9B,IAAK,IAAIhB,EAAW,EAAGA,EAAWkB,EAAOlB,GAAY,EAEnDD,EAAc,C,SAACC,E,MAAUC,IACtBkB,KAAKX,GACLY,MAAMT,GAETV,GAASgB","sources":["src/js/03-promises.js"],"sourcesContent":["const form = document.querySelector('.form');\nconst delayEl = form.elements['delay'];\nconst stepEl = form.elements['step'];\nconst amountEl = form.elements['amount'];\nconst buttonEl = document.querySelector('button');\n\nbuttonEl.addEventListener('click', submitForm);\n// let delay = 0;\n// let position = 0;\n\n\nfunction submitForm(evt) {\n  evt.preventDefault();\n  \n  let delay = Number(delayEl.value);\n  const delayStep = Number(stepEl.value);\n  const total = Number(amountEl.value);\n  \n  for (let position = 1; position = total; position += 1) {\n    \n    createPromise({position, delay})\n      .then(onSuccess)\n      .catch(onError);\n\n    delay += delayStep;\n  }\n};\n\nfunction createPromise({position, delay}) {\n  return new Promise((resolve, reject) => {\n    \n\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({position, delay});\n      }\n      reject({position, delay});\n    }, delay);\n  });\n  \n};\n\n\nfunction onSuccess({position, delay}) {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  }\nfunction onError({position, delay}) {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n\n\n"],"names":["$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$delayEl","elements","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$onSuccess","console","log","$47d4ff9957288465$var$onError","addEventListener","evt","preventDefault","Number","value","delayStep","total","then","catch"],"version":3,"file":"03-promises.9f10cb27.js.map"}